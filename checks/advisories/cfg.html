<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>config - cargo-deny</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../index.html"><strong aria-hidden="true">1.</strong> cargo-deny</a></li><li class="chapter-item expanded "><a href="../../cli/index.html"><strong aria-hidden="true">2.</strong> Command Line Tool</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../cli/common.html"><strong aria-hidden="true">2.1.</strong> common</a></li><li class="chapter-item expanded "><a href="../../cli/init.html"><strong aria-hidden="true">2.2.</strong> init</a></li><li class="chapter-item expanded "><a href="../../cli/check.html"><strong aria-hidden="true">2.3.</strong> check</a></li><li class="chapter-item expanded "><a href="../../cli/list.html"><strong aria-hidden="true">2.4.</strong> list</a></li></ol></li><li class="chapter-item expanded "><a href="../../checks/index.html"><strong aria-hidden="true">3.</strong> Checks</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../checks/cfg.html"><strong aria-hidden="true">3.1.</strong> config</a></li><li class="chapter-item expanded "><a href="../../checks/advisories/index.html"><strong aria-hidden="true">3.2.</strong> advisories</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../checks/advisories/cfg.html" class="active"><strong aria-hidden="true">3.2.1.</strong> config</a></li><li class="chapter-item expanded "><a href="../../checks/advisories/diags.html"><strong aria-hidden="true">3.2.2.</strong> diagnostics</a></li></ol></li><li class="chapter-item expanded "><a href="../../checks/bans/index.html"><strong aria-hidden="true">3.3.</strong> bans</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../checks/bans/cfg.html"><strong aria-hidden="true">3.3.1.</strong> config</a></li><li class="chapter-item expanded "><a href="../../checks/bans/diags.html"><strong aria-hidden="true">3.3.2.</strong> diagnostics</a></li></ol></li><li class="chapter-item expanded "><a href="../../checks/licenses/index.html"><strong aria-hidden="true">3.4.</strong> licenses</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../checks/licenses/cfg.html"><strong aria-hidden="true">3.4.1.</strong> config</a></li><li class="chapter-item expanded "><a href="../../checks/licenses/diags.html"><strong aria-hidden="true">3.4.2.</strong> diagnostics</a></li></ol></li><li class="chapter-item expanded "><a href="../../checks/sources/index.html"><strong aria-hidden="true">3.5.</strong> sources</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../checks/sources/cfg.html"><strong aria-hidden="true">3.5.1.</strong> config</a></li><li class="chapter-item expanded "><a href="../../checks/sources/diags.html"><strong aria-hidden="true">3.5.2.</strong> diagnostics</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">cargo-deny</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-advisories-section"><a class="header" href="#the-advisories-section">The <code>[advisories]</code> section</a></h1>
<p>Contains all of the configuration for <code>cargo deny check advisories</code></p>
<h2 id="example-config"><a class="header" href="#example-config">Example Config</a></h2>
<pre><code class="language-ini">[advisories]
db-path = &quot;~/.cargo/advisory-dbs&quot;
db-urls = [&quot;https://github.com/RustSec/advisory-db&quot;]
ignore = [
    &quot;RUSTSEC-0000-0000&quot;,
    &quot;crate@0.1&quot;,
    { crate = &quot;yanked&quot;, reason = &quot;a new version has not been released&quot; },
]
unmaintained = &quot;workspace&quot;
unused-ignored-advisory = &quot;warn&quot;
</code></pre>
<h3 id="the-db-urls-field-optional"><a class="header" href="#the-db-urls-field-optional">The <code>db-urls</code> field (optional)</a></h3>
<p>URLs to one or more advisory databases.</p>
<p>Default: <a href="https://github.com/RustSec/advisory-db">RustSec Advisory DB</a></p>
<h3 id="the-db-path-field-optional"><a class="header" href="#the-db-path-field-optional">The <code>db-path</code> field (optional)</a></h3>
<p>Path to the root directory into which one or more advisory databases are cloned into.</p>
<p>This value supports basic shell expansion:</p>
<ul>
<li><code>~</code> - Expands to <a href="https://docs.rs/home/latest/home/fn.home_dir.html"><code>home::home_dir</code></a></li>
<li><code>$VARNAME</code> - Expands to <a href="https://doc.rust-lang.org/std/env/fn.var.html"><code>std::env::var(&quot;VARNAME&quot;)</code></a></li>
<li><code>${VARNAME}</code> - Expands to <a href="https://doc.rust-lang.org/std/env/fn.var.html"><code>std::env::var(&quot;VARNAME&quot;)</code></a></li>
<li><code>${VARNAME:-fallback}</code> - Expands to <a href="https://doc.rust-lang.org/std/env/fn.var.html"><code>std::env::var(&quot;VARNAME&quot;)</code></a> or the fallback value if it doesn't exist (everything between the <code>:-</code> and <code>}</code>)</li>
<li><code>$CARGO_HOME</code> - Expands to <a href="https://doc.rust-lang.org/std/env/fn.var.html"><code>std::env::var(&quot;CARGO_HOME&quot;)</code></a> if it exists, otherwise expands to <code>$(home::home_dir())/.cargo</code></li>
</ul>
<p>Note that the path must be valid utf-8, after expansion.</p>
<p>Default: <code>$CARGO_HOME/advisory-dbs</code></p>
<h3 id="the-version-field-optional"><a class="header" href="#the-version-field-optional">The <code>version</code> field (optional)</a></h3>
<pre><code class="language-ini">version = 2
</code></pre>
<p>The version field is (at the time of this writing) no longer used, the following fields have been removed and will now emit errors.</p>
<ul>
<li><code>vulnerability</code> - Removed, all vulnerability advisories now emit errors.</li>
<li><code>unsound</code> - Removed, all unsound advisories now emit errors.</li>
<li><code>notice</code> - Removed, all notice advisories now emit errors.</li>
<li><code>severity-threshold</code> - Removed, all vulnerability advisories now emit errors.</li>
</ul>
<p>As before, if you want to ignore a specific advisory, add it to the <code>ignore</code> field.</p>
<h3 id="the-yanked-field-optional"><a class="header" href="#the-yanked-field-optional">The <code>yanked</code> field (optional)</a></h3>
<p>Determines what happens when a crate with a version that has been yanked from its source registry is encountered.</p>
<ul>
<li><code>deny</code> - Will emit an error with the crate name and version that was yanked, and fail the check.</li>
<li><code>warn</code> (default) - Prints a warning with the crate name and version that was yanked, but does not fail the check.</li>
<li><code>allow</code> - Prints a note about the yanked crate, but does not fail the check.</li>
</ul>
<h3 id="the-ignore-field-optional"><a class="header" href="#the-ignore-field-optional">The <code>ignore</code> field (optional)</a></h3>
<pre><code class="language-ini">ignore = [
   &quot;RUSTSEC-0000-0000&quot;,
   { id = &quot;RUSTSEC-0000-0000&quot;, reason = &quot;this vulnerability does not affect us as we don't use the particular code path&quot; },
   &quot;yanked@0.1.1&quot;,
   { crate = &quot;yanked-crate@0.1.1&quot;, reason = &quot;a semver compatible version hasn't been published yet&quot; },
]
</code></pre>
<p>Every advisory in the advisory database contains a unique identifier, eg. <code>RUSTSEC-2019-0001</code>. Putting an identifier in this array will cause the advisory to be treated as a note, rather than a warning or error.</p>
<p>In addition, yanked crate versions can be ignored by specifying a <a href="../cfg.html#package-spec">PackageSpec</a> with an optional <code>reason</code>.</p>
<h3 id="the-unmaintained-field-optional"><a class="header" href="#the-unmaintained-field-optional">The <code>unmaintained</code> field (optional)</a></h3>
<pre><code class="language-ini">unmaintained = 'workspace'
</code></pre>
<p>Determines if unmaintained advisories will result in an error. An unmaintained error can still be ignored specifically via the <a href="#the-ignore-field-optional"><code>ignore</code></a> option.</p>
<ul>
<li><code>all</code> (default) - Any crate that matches an unmaintained advisory will fail</li>
<li><code>workspace</code> - Unmaintained advisories will only fail if they apply to a crate which is a direct dependency of one or more workspace crates.</li>
<li><code>transitive</code> - Unmaintained advisories will only fail if they apply to a crate which is <strong>not</strong> a direct dependency of one or more workspace crates.</li>
<li><code>none</code> - Unmaintained advisories are completely ignored.</li>
</ul>
<h3 id="the-unsound-field-optional"><a class="header" href="#the-unsound-field-optional">The <code>unsound</code> field (optional)</a></h3>
<pre><code class="language-ini">unsound = 'workspace'
</code></pre>
<p>Determines if unsound advisories will result in an error. An unsound error can still be ignored specifically via the <a href="#the-ignore-field-optional"><code>ignore</code></a> option.</p>
<ul>
<li><code>all</code> - Any crate that matches an unsound advisory will fail</li>
<li><code>workspace</code> (default) - Unsound advisories will only fail if they apply to a crate which is a direct dependency of one or more workspace crates.</li>
<li><code>transitive</code> - Unsound advisories will only fail if they apply to a crate which is <strong>not</strong> a direct dependency of one or more workspace crates.</li>
<li><code>none</code> - Unsound advisories are completely ignored.</li>
</ul>
<h3 id="the-git-fetch-with-cli-field-optional"><a class="header" href="#the-git-fetch-with-cli-field-optional">The <code>git-fetch-with-cli</code> field (optional)</a></h3>
<p>Similar to cargo's <a href="https://doc.rust-lang.org/cargo/reference/config.html#netgit-fetch-with-cli">net.git-fetch-with-cli</a>, this field allows you to opt-in to fetching advisory databases with the git CLI rather than using <code>gix</code>.</p>
<ul>
<li><code>false</code> (default) - Fetches advisory databases via <code>gix</code></li>
<li><code>true</code> - Fetches advisory databases using <code>git</code>. Git must be installed and in <code>PATH</code>.</li>
</ul>
<h3 id="the-maximum-db-staleness-field-optional"><a class="header" href="#the-maximum-db-staleness-field-optional">The <code>maximum-db-staleness</code> field (optional)</a></h3>
<p>A duration in RFC3339 format that specifies the maximum amount of time that can pass before the database is considered stale and an error is emitted. This is only checked when advisory database fetching has been disabled via the <code>--offline</code> or <code>check --disable-fetch</code> flags, as otherwise the database is always cloned or fetched to be up to date with the remote git repository.</p>
<p>The default if not specified is the same value that <code>cargo-audit</code> uses, and <code>cargo-deny</code> has been using, which is <code>P90D</code>, or 90 days.</p>
<p>The RFC3339 duration format is...not well documented. The official grammar is as follows:</p>
<pre><code class="language-txt">   dur-second        = 1*DIGIT &quot;S&quot;
   dur-minute        = 1*DIGIT &quot;M&quot; [dur-second]
   dur-hour          = 1*DIGIT &quot;H&quot; [dur-minute]
   dur-time          = &quot;T&quot; (dur-hour / dur-minute / dur-second)
   dur-day           = 1*DIGIT &quot;D&quot;
   dur-week          = 1*DIGIT &quot;W&quot;
   dur-month         = 1*DIGIT &quot;M&quot; [dur-day]
   dur-year          = 1*DIGIT &quot;Y&quot; [dur-month]
   dur-date          = (dur-day / dur-month / dur-year) [dur-time]

   duration          = &quot;P&quot; (dur-date / dur-time / dur-week)
</code></pre>
<p>However, as far as I can tell, there are no official spec compliance tests one can run for the duration formation, and several parsers I found written in other languages seemed to...not actually properly follow the grammar, so the implementation in cargo-deny <em>may</em> be wrong according to the spec, but at least it will be consistently wrong.</p>
<p>Note that while the spec supports <code>,</code> as a decimal separator, for simplicity cargo-deny only supports <code>.</code> as a decimal separator.</p>
<p>One final note, there are 2 units available in the format that are not exact, namely, year 'Y' and month 'M'. It's not recommended to use either of them for that reason, but if you do they are calculated as follows.</p>
<ul>
<li>1 year = 365 days</li>
<li>1 month = 30.43 days</li>
</ul>
<h3 id="the-unused-ignored-advisory-field-optional"><a class="header" href="#the-unused-ignored-advisory-field-optional">The <code>unused-ignored-advisory</code> field (optional)</a></h3>
<p>Determines what happens when one of the advisories that appears in the <code>ignore</code> list is not encountered in the dependency graph.</p>
<ul>
<li><code>warn</code> (default) - A warning is emitted for each advisory that appears in <code>advisories.ignore</code> but which is not used in any crate.</li>
<li><code>allow</code> - Unused advisories in the <code>advisories.ignore</code> list are ignored.</li>
<li><code>deny</code> - An unused advisory in the <code>advisories.ignore</code> list triggers an error, and cause the advisory check to fail.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../checks/advisories/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../checks/advisories/diags.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../checks/advisories/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../checks/advisories/diags.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
